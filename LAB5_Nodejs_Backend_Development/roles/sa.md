# **Systems Analyst (SA) Work Plan: Agent Wallboard API - Phase 1 (ฉบับสมบูรณ์)**

เอกสารนี้คือแผนการทำงานสำหรับ Systems Analyst (SA) เพื่อกำหนดขอบเขตความรับผิดชอบและขั้นตอนการดำเนินงานใน Phase 1 ของโปรเจกต์ Agent Wallboard API เป้าหมายของ SA คือการออกแบบและจัดทำข้อกำหนดของระบบ (System Specification) ที่ชัดเจนและครบถ้วน เพื่อเป็น "พิมพ์เขียว" ให้ทีม Developer และ QA Tester สามารถทำงานร่วมกันได้อย่างราบรื่นและมีประสิทธิภาพ

## **ผลลัพธ์ที่ต้องส่งมอบใน Phase 1 (Key Deliverables)**

1.  **เอกสาร Data Dictionary**: อธิบายทุก Attribute ของ Agent Data Model
2.  **เอกสาร Business Logic Rules**: แผนภาพหรือตารางกฎการเปลี่ยนสถานะ (State Transition)
3.  **เอกสาร API Specification (API Contract)**: ข้อกำหนดทางเทคนิคของทุก Endpoint
4.  **เอกสาร QA Test Plan**: แผนการทดสอบสำหรับทีม QA

---

## **ขั้นตอนการทำงาน (Step-by-Step)**

### **Step 1: วิเคราะห์และออกแบบระบบ (System Analysis & Design)**
*ช่วงเวลาก่อนการพัฒนา (Pre-Development)*

#### **1.1: กำหนดคุณสมบัติของ Agent Data Model**
* **Action**: จัดทำ **เอกสาร Data Dictionary** ที่ระบุคุณสมบัติของ `Agent` ทั้งหมด รวมถึงชนิดข้อมูล, ข้อจำกัด, ค่าเริ่มต้น (Default Value), และคำอธิบาย.
* **ประสานงานกับ Developer**: รีวิว Data Model ที่ออกแบบร่วมกับ Lead Developer เพื่อยืนยันความถูกต้องทางเทคนิคและความสอดคล้องกับสถาปัตยกรรม MVC.

#### **1.2: กำหนด Business Logic ของการเปลี่ยนสถานะ (Status Transition Rules)**
* **Action**: จัดทำ **เอกสาร Business Logic Rules** โดยอ้างอิงจาก `VALID_STATUS_TRANSITIONS`. ควรทำเป็น State Diagram เพื่อให้เห็นภาพรวมและเข้าใจง่าย
* **ประสานงานกับ**:
    * **Developer**: ส่งมอบเอกสาร Logic เพื่อให้ทีมพัฒนาใช้เป็นแนวทาง
    * **QA Tester**: เอกสารส่วนนี้จะเป็นข้อมูลสำคัญสำหรับ QA ในการออกแบบ Test Case ที่เกี่ยวกับ Business Logic

#### **1.3: จัดทำเอกสารข้อกำหนด API (API Specification)**
* **Action**: สร้าง **เอกสาร API Contract** ที่สมบูรณ์สำหรับทุก Endpoint โดยระบุรายละเอียดทั้งหมด.
* **ประสานงานกับ Developer & QA Tester**: จัดประชุม Walkthrough เพื่ออธิบาย API Contract ให้ทั้งสองทีมเข้าใจตรงกัน ก่อนเริ่มพัฒนาและเขียน Test Plan

#### **1.4: กำหนดข้อกำหนดที่ไม่ใช่ฟังก์ชัน (Non-Functional Requirements - NFRs)**
* **Action**: ระบุ NFRs ที่จำเป็นสำหรับ Phase 1 เพื่อให้ API มีคุณภาพและมาตรฐานที่ดี:
    * **Security**: API ต้องมีกลไกป้องกันพื้นฐาน เช่น การใช้ Security Headers (`helmet`).
    * **Logging**: ต้องมีการบันทึก Log ของทุก Request ที่เข้ามาในระหว่างการพัฒนา (`morgan`).
    * **Performance**: ต้องมีการติดตามระยะเวลาการตอบสนองของแต่ละ Request (`performanceMonitor`).
    * **Consistency**: รูปแบบการตอบสนองของ API ทั้ง Success และ Error ต้องเป็นมาตรฐานเดียวกัน (`apiResponse.js`).
* **ประสานงานกับ Developer**: สื่อสาร NFRs เหล่านี้เพื่อให้ทีมพัฒนาเลือกใช้เครื่องมือและติดตั้ง Middleware ที่จำเป็นตั้งแต่เริ่มต้น

---

### **Step 2: สนับสนุนการพัฒนา (Development Support)**
*ช่วงระหว่างการพัฒนา (During Development)*

#### **2.1: ให้ความชัดเจนด้าน Requirement และเป็นที่ปรึกษา**
* **Action**: ทำหน้าที่เป็นศูนย์กลางในการตอบคำถามที่เกี่ยวข้องกับ Requirement ทั้งหมด เพื่อให้การพัฒนาเป็นไปอย่างราบรื่น
* **ประสานงานกับ Developer**: สื่อสารผ่านช่องทางที่ตกลงกันไว้ (เช่น Daily Standup) เพื่อลดอุปสรรคในการทำงาน

#### **2.2: ตรวจสอบโครงสร้างโปรเจกต์และส่วนประกอบหลัก (Review Project Structure)**
* **Action**: รีวิวโครงสร้างของโปรเจกต์ที่ทีมพัฒนาตั้งขึ้น เพื่อให้แน่ใจว่าสอดคล้องกับหลักการออกแบบที่วางไว้ เช่น MVC Pattern และ Separation of Concerns ตามที่ระบุในเอกสาร.
* **ประสานงานกับ Developer**: ให้ Feedback เกี่ยวกับโครงสร้างไฟล์และส่วนประกอบหลัก เช่น `constants.js`, `apiResponse.js` เพื่อให้ตรงตามมาตรฐานที่ออกแบบไว้.

---

### **Step 3: เตรียมการและสนับสนุนการทดสอบ (QA Preparation & Support)**
*ช่วงก่อนและระหว่างการทดสอบ (Pre-QA & During-QA)*

#### **3.1: จัดทำและรีวิว Test Plan**
* **Action**: นำ API Specification จาก Step 1.3 มาสร้างเป็น **เอกสาร QA Test Plan** แบบ Step-by-Step
* **ประสานงานกับ QA Tester**:
    * **Input**: ร่าง QA Test Plan
    * **Activity**: จัดประชุมรีวิว Test Plan เพื่อรับ Feedback และปรับปรุงให้สมบูรณ์
    * **Output**: QA Test Plan ฉบับสมบูรณ์ที่พร้อมใช้งาน

#### **3.2: จัดเตรียมข้อมูลสำหรับทดสอบ (Prepare Test Data)**
* **Action**: กำหนดชุดข้อมูลตัวอย่าง (Sample Data) ที่ครอบคลุมสถานการณ์ต่างๆ เช่น Agent ที่มีสถานะและแผนกแตกต่างกัน เพื่อใช้เป็นข้อมูลตั้งต้นในการทดสอบ อ้างอิงจากฟังก์ชัน `initializeSampleData`.
* **ประสานงานกับ**:
    * **QA Tester**: ส่งมอบ Test Data ให้ทีม QA เพื่อลดเวลาในการเตรียมข้อมูลและเริ่มทดสอบได้เร็วขึ้น
    * **Developer**: ประสานงานเพื่อให้แน่ใจว่ามีกลไกในการใส่ข้อมูลทดสอบลงในระบบได้ง่าย

#### **3.3: วิเคราะห์ผลการทดสอบและจัดการ Defect**
* **Action**: วิเคราะห์ Bug ที่ทีม QA รายงานเข้ามา เพื่อแยกว่าเป็นปัญหาที่เกิดจากโค้ด (Bug) หรือความเข้าใจ Requirement ที่คลาดเคลื่อน
* **ประสานงานกับ**:
    * **QA Tester**: ทำงานร่วมกันเพื่อจำลองการเกิด Bug (Reproduce Bug) และทำความเข้าใจปัญหา
    * **Developer**: สื่อสาร Bug ที่ยืนยันแล้วให้ทีมพัฒนา พร้อมทั้งอธิบาย Expected Behavior ที่ถูกต้องเพื่อดำเนินการแก้ไข

---

### **Step 4: สรุปและส่งมอบ (Finalization & Handoff)**
*ช่วงหลังการทดสอบ (Post-QA)*

#### **4.1: อัปเดตและส่งมอบเอกสารฉบับสมบูรณ์**
* **Action**: เมื่อ API ผ่านการทดสอบทั้งหมดแล้ว ให้อัปเดตเอกสาร Deliverables ทั้งหมดให้เป็นเวอร์ชันล่าสุดและถูกต้อง 100% โดยเฉพาะ `README.md`.
* **ประสานงานกับ Developer & QA Tester**: จัดส่งเอกสารฉบับสมบูรณ์ให้ทั้งสองทีมเพื่อเก็บไว้เป็นข้อมูลอ้างอิง และถือเป็นการปิดงานใน Phase 1 อย่างเป็นทางการ